<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>HILTE MVP Progress</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial; padding: 24px; }
    .bar { width: 100%; background: #eee; border-radius: 8px; overflow: hidden; height: 28px; }
    .fill { height: 100%; background: linear-gradient(90deg,#4caf50,#8bc34a); width: 0%; transition: width 800ms ease; }
    .meta { margin-top: 12px; color:#444 }
  </style>
</head>
<body>
  <h2>HILTE CRM+ERP â€” Progress</h2>
  <div class="bar"><div id="fill" class="fill"></div></div>
  <div class="meta" id="meta"></div>
<script>
  (function(){
    async function fetchStatus(){
      try{
        const res = await fetch('http://127.0.0.1:8008/status');
        if(!res.ok) throw new Error('no');
        const j = await res.json();
        const done = j.done||0;
        const inprogress = j.inprogress||0;
        const next = j.next||0;
        const total = done + inprogress + next || 1;
        const percent = Math.round((done/total)*100);
        document.getElementById('fill').style.width = percent + '%';
        document.getElementById('meta').innerText = `Done: ${done} / ${total} tasks (${percent}%). In progress: ${inprogress}. Next: ${next}.`;
      }catch(e){
        // keep existing
      }
    }
    fetchStatus();
    setInterval(fetchStatus, 5000);
  })();
</script>
</body>
</html>
